# Advanced Topics

- Settings
- Abbreviated Settings Examples
- Running as a Remote "node" (tbd)

## Settings

The basic configuration generated by `hfdlobserver.sh configure` or at install time is good enough for the baseline use case: using a Web-888 device with no special hiccups. More advanced configurations are possible. This includes:

- different starting values for the CUI
- using different receivers instead of, or in addition to, a Web-888
- adding futher outputs (to local AcarsRouter, AcarsHub, or other aggregators)

**Always keep a copy of your working settings.yaml before making alterations.**

### Configuration files

HFDLObserver uses only one configuration file. By default it is named `settings.yaml`. The app will look first in the current working directory, then the installation directory. You may also specify the settings file with the `--config` command line parameter.

The settings are stored in a [YAML]() formatted file. Much of this document is concerned with the structure of this file, and presumes at least a minimum understanding of the format. There are several good overviews for you to find. Only simple data structures are used.

As a reminder, key points for YAML:

- subsections are indented.
- indentation must be consistent
- indentation is done with spaces
- while strings/text may *usually* be left unquoted, it's best to quote using either single or double quotes. Don't quote numbers.
- a list of items begins with a `-` and an indent for properties on each item in the list.

### Basic structure

The settings.yaml file has several sections.

- `observer` - controls the central behaviour -- managing receivers and gathering data
- `node` - controls behaviour when HFDLObserver is run in "node" mode to be managed by a remote "observer". (More documentation on this mode is coming Real Soon Now.)
- `cui` - controls the behaviour of the Console UI, which is the "fancy" display

There are also sections that are used to build the configuration of the receivers that HFDLObserver controls.

- `receiver` - defines the top level configuration of the receiver
- `dumphfdl` - define the possible configurations of dumphfdl that are used by receivers
- `output` - defines possible outputs that can be used in receivers' dumphfdl

### Yes/No or "Similar values"

Some properties take "Yes/No or Similar values". means any of a number of different representations of yes or no.

- For yes: `"yes"`, `"true"`, `true`, `"y"`, or `1`
- For no: `"no"`, `"false"`, `false`, `"n"`, or `0`

### Ranges

Some properties accept a list of ranges.

```yaml
property_name: [1000, 2000, [3000, 8000]]
```

A list of ranges is a list (`[]`) of either:
- a single explicit number; or
- a sublist expressing the closed interval of a range

In the example above, the exact values 1000, and 2000 are included, as is the range from 3000 to 8000 (inclusive).


### observer

#### conductor

This controls how frequencies are allocated to receivers.

```yaml
  conductor:
    ranked_stations: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15,16]
    ignored_frequencies: [10000, [0, 3000]]
```

- `ranked_stations` - a list of ground station IDs from the systable.conf. It determines the relative importance of the active frequencies for each ground station from most to least important. HFDLObserver will cover active frequencies for stations earlier in the list before it allocates receivers to active frequencies for those later in it.
- `ignored_frequencies` - If you know that certain frequencies are unusable at your station, you can exclude them here. This is a list. Each entry in the list is either a single specific frequency, or is itself a list representing the closed interval `start` to `end`.
- `type` - You should never need to change this from the internally defaulted value. It is intended to aid in experimental extensions.

#### local_receivers

This subsection describes the receivers that HFDLObserver *directly* controls -- as opposed to "remote" nodes that manage additional receivers under HFDLObserver's command. It is a list of objects. In theory, these could be quite complicated. In general, though, each entry will provide only a `name` and a `receiver` template to use for the receiver. The receiver object is described in detail in the `receivers` section later.

```yaml
  local_receivers:
    - name: local-01
      receiver: web888
    - name: airspy-01
      receiver: airspyhf
```

Each local receiver needs an entry here. If you were to use a Web-888 device, you would need entries for all thirteen available web channels for that device. The configuration tool generates these for you.

(Any additional properties you add to a receiver object here will override any inhertied from `receivers`, `dumphfdl`, or `outputs`)

#### hfdl_listener

This represents a lightweight endpoint for accepting HFDL packets in JSON format as emitted by dumphfdl. This is how HFDLObserver knows about packets that its receivers have received. If you are running in a stock configuration, there is little reason to include this section or alter the defaults.

```yaml
  hfdl_listener:
    address: "127.0.0.1"
    port: 5540
    advertised_address: "192.168.0.42"
```

- `address` - The address to listen on. Specify `"0.0.0.0"` to listen to all available addresses your computer has.
- `port` - The UDP port to listen on. The port is advertised to any receivers that HFDLObserver is managing.
- `advertised_address` - When you use a generic address such as `"0.0.0.0"` as `address`, external/remote nodes will not know what address to contact. This is used for providing an explicit address to advertise to such nodes. If you aren't running any "remote" nodes, there's no reason to change this. If this is omitted and it is needed, HFDLObserver will try to guess, but it is very easy for it to be wrong.

#### tracker

This is another section you probably won't need to change. It manages how ground stations frequencies are tracked.

```yaml
  tracker:
    save_delay: 8
    state: "stations.state"
    station_files: ["systable.conf"]
    station_updates:
      - url: "https://api.airframes.io/hfdl/ground-stations"
        period: 131
      - url: "https://example.com/backup/list"
        period: 3600
```

- `save_delay` - A number in seconds. HFDLObserver will wait this many seconds after a change in a ground station's frequencies before updating persistent data, or triggering a re-orchestration. This allows potentially several changes to be bundled together.
- `state` - A filename to cache the station active frequency data. This allows better recovery from network outages and restarts.
- `station_files` - This is a list of filenames/paths to the "systable.conf" files that dumphfdl uses. Usually there will be only one entry, and it defaults to the one provided in the repository. Unless you're doing something weird, you won't need to change this.

#### station_updates

This is a list of objects that tell HFDLObserver where to source "community" updates of active frequencies. The default uses [HFDLObserver](https://hfdl.observer/)'s own aggregator, but there are others. The format accepted for the data is a superset of the Airframes Ground Station API. You generally will not need to alter this.

Each station_update object contains two properties:
- `url` - the URL of the community data source
- `period` - how often to query it.

### messaging

Used to configure the control plane (messaging) for HFDLObserver. Unless you have port conflicts, you should never need to change this.

```yaml
  messaging:
    host: "0.0.0.0"
    pub_port: 5559
    sub_port: 5560
```

- `host` - The address to use for ZMQ/TCP message brokering.
- `pub_port` - Used for nodes in HFDLObserver to publish ZMQ messages
- `sub_port` - Used for nodes in HFDLObserver to subscribe to ZMQ topics

### cui

This section configures the initial behaviour of the Console UI. It is currently fairly simple, but leaves the possibility open for futher enhancement later.

#### ticker

This subsection configures the flowing "heat map" displayed at the top of the UI.

```yaml
cui:
  ticker:
    bin_size: 60
    display_mode: "frequency"
    flexible_width: no
    show_all_active: yes
    show_active_line: yes
    show_confidence: yes
    show_targetting: no
```

- `bin_size` - packets are grouped into bins of this many seconds for display. Minimum value is `60`, maximum value is `3600`. The default is `60`
- `display_mode` - the initial kind of heat map displayed. The default is `frequency`. The valid values:
    - `frequency` - each row is a frequency, and the map shows packet counts for each bin for each frequency.
    - `band` - each row is a "MHz band", which groups counts for all frequencies based on their integral MHz.
    - `station` - packets are grouped by the source or destination ground station, regardless of frequency.
    - `agent` - packets are grouped by the "agent" (dumphfdl's "station") representing the station name that would appear at airframes.io.
    - `receiver` - packets are grouped by the managed receiver (by name) that captured the packet. If packets come from a receiver that is not registered with HFDLObserver, they will show up as "unknown".
- `flexible_width`: `yes`/`no` (or similar values, see above). When `yes`, the width of each bin column can vary depending on the packet count. This gives a precise number of packets, but can reduce the number of bins visible once you get to hundreds of packets per bin. This is most useful for users using large `bin_size`s. When `no`, each packet count is represented by a single character and the maximum number of bins is shown. The default is `no`.
- `show_all_active`: `yes`/`no` (or similar values, see above). When `yes`, all frequencies marked "active" even if there are no receivers assigned to the frequency or if no recent packets have been received on that frequency. The default is `no`.
- `show_active_line`: `yes`/`no` (or similar values, see above). When `yes`, the display will use a horizontal line to represent the period that an active frequency has been active (to the best of its knowledge). This helps illustrate when a ground station switches from one frequency to another. The default is `yes`.
- `show_confidence`: `yes`/`no` (or similar values, see above). When `yes`, the UI contains a symbol (in a circle) indicate how confident HFDLObserver is that this is an active frequency. There are some cases when squitters are not received directly from a ground station, and HFDLObserver relies on data from other ground stations. This can be somewhat out of date. The default is `yes`.
- `show_targetting`: `yes`/`no` (or similar values, see above). When `yes`, an additional symbol (in a square) indicates whether the given frequency is being actively targetted, is an "extra" that happens to be in the scanning range of a receiver, or is not tracked. The default is `no`. This is mostly used for debugging issues in the orchestrator.


### receivers

This section defines the types of receivers that can be added in `observer` `local_receivers`. Any setting specified in the template can be overridden for a specific receiver, but its "path" has to match. There are examples of this in the **Abbreviated Settings Examples** section.

Each receiver template is defined in its own subsection, with a unique name. A receiver always includes a `decoder` section, that represents configuration for managing (and running) dumphfdl. Some *types* of Receiver also add a `client` section. This is used for `web-888` receivers, since they need a separate process to stream the IQ data from the device to the decoder/dumphfdl.

The basic structure of a receiver will look like this (lines with elipses represent settings that are discussed later, not literal lines):

```yaml
receivers:
  web-888:
    type: "Web888ExecReceiver"
    channel_width: 12000
    client:
      type: "KiwiClientProcess"
      # ... client-specific properties ...
    decoder:
      type: "IQDecorderProcess"
      dumphfdl: "default"
      # ... decoder-specific properties ...
      output:
        - output: acarshub
          # ... output-specific properties ...
```

Some receiver *types* are predefined. If you have a subsection in your `receivers` section with the same name, it will inherit those defaults, so you only need to specify differences or additions. The defined receiver templates are:

- `web888` - the default receiver template for managing a connection and decoding of Web-888 channels.
- `airspyhf` - a receiver template for managing Airspy HF+ (and probably some other related) devices. The SoapyAirspyHF library must be installed for this to work. This is not done automatically during installation.
- `rx888mk2` - a receiver template for managing Web-888's sibling device: RX-888 mk2. This depends on the Soapy driver contained in the ExtIO library, so that must be installed/built for this template to work.
- `rspdx+sdrplay` - a receiver template for managing SDRPlay RSPdx devices using the proprietary SDRPplay API. The proprietary drivers and the related SoapySDRPlay library must be installed/built for this template to work.

The following receiver templates are incomplete or experimental. Don't expect them to work.

- `rsp1a+sdrplay` - an untested receiver template similar to `rspdx+sdrplay`, only for SDRPlay RSP1a devices.
- `rspdx+miri` - a broken receiver template for RSPdx using the open source Mirics Soapy driver. This driver does not actually support RSPdx, so this currently does not function.
- `pipe888` - a different way of managing Web-888 channels. (in this case, a shell manages the pipe rather than HFDLObserver directly)
- `dummy` - for development, this does nothing except receive an assignment, and pretend it's doing something. For development.

### `receiver` § `type: Web888ExecReceiver`

This is the basis for the default template `web888`. It uses a client process to fetch IQ data from the Web-888 device and a decoder process (dumphfdl) to process the signals and generate HFDL packets. It also allows you to specify the overall sample rate available. 

```yaml
  web888:
    type: "Web888ExecReceiver"
    channel_width: 12000
    client:
      type: "KiwiClientProcess"
      address: "web-888.local"
      port: 8073
      settle_time: 1
      quiet: false
      username: kiwi:hfdlobserver
      agc_files:
        "*": agc.yaml
        "21": agc_21M.yaml
    decoder:
      type: "IQDecoderProcess"
      dumphfdl: "default"
```

This is a fairly complete example representing the default definition of the `web888` template. In your settings file, you will only need to specify those settings you wish to override and the reasonable defaults will be applied to the others.

- `type` - this determines that this is the `Web888ExecReceiver` type.
- `channel_width` - each channel managed on receivers of this type will have this bandwidth (in samples/second or hz). The default (12000) is fine for most cases, but also see the **Abbreviated Settings Examples** "wide888" and "alpha web-888" for other uses.

#### `client`

- `type` - Technically, there could be different types of client, but only one (currently) makes sense for this Receiver type: `KiwiClientProcess`.
- `address` - the network name or address of the Web-888 device to use for this receiver. See the **Abbreviated Settings Example** "tandem" to see how this can be used to manage multiple Web-888 devices on the same network.
- `port` - the port on `address` where KiwiSDR web requests can be made. The default is almost always what you want.
- `settle_time` - a number in seconds representing the delay between stopping a previous use of the receiver, and restarting it (with new frequency assignments). This allows the device to reset the connection.
- `quiet` - setting this to `true` will reduce the log output of the client process a little.
- `username` - used by the Web-888 device to identify who's using a particular channel. The default is one that works for the default installation. Password protected access is not supported.
- `agc_files` - this is a mapping of a frequency band to a **AGC YAML** that Web-888 can recognize. The keys for the mapping are the band's frequency in MHz, and the value is the name of the file containing the AGC curve definition (see below). A key of `"*"` can also be specified; this serves as the default if a band is not provided or the file is not found. This is advanced tinkering, but can eke out slightly better reception if you can stand the near voodoo nature of these curves. (The useful bands are `"*"`, `2`, `3`, `4`, `5`, `6`, `8`, `10`, `11`, `13`, `15`, `17`, and `21`.)

#### `decoder`

- `type` - Technically, there could be different types of decoder, but only one (currently) makes sense for this Receiver type: `IQDecoderProcess`
- `dumphfdl` - Specifies the dumphfdl profile to use. See the **dumphfdl** section below. 
- additional values may be specified here to override the values inherited from the dumphfdl profile.

### `receiver` § `type: DirectReceiver`

A direct receiver does not require a process to retrieve IQ samples for dumphfdl. Dumphfdl access the device directly over USB or a similar connection. Generally, SoapySDR drivers are used, and can be configured by the `dumphfdl` profile chosen, or any overrides provided in the `receivers` template.

As dumphfdl access the radio directly, no `client` is required, and there is only a `decoder` section.

This example is the default definition of the `airspyhf` Receiver. It uses the `DirectReceiver` type:

```yaml
  airspyhf:
    type: "DirectReceiver"
    decoder:
      type: "SoapySDRDecoder"
      settle_time": 1
      sample-rates": [912000, 768000, 650000, 456000, 384000, 228000, 192000]
      dumphfdl: "default"
      soapysdr:
        driver: "airspyhf"
        gain: None
```

Many of the entries have already been covered, but there are a couple of new ones.

- `sample-rates` - a list of the sample rates (samples per second, or Hz) supported by this profile. It needs to be values that the radio actually supports, but does not need to be all of them (for example, if you know your system has issues with higher sample rates, you could omit them). See "ranges" discussed above.
- `soapysdr` - this is a sub section that defines the SoapySDR arguments that `dumphfdl` will need to configure the radio. The properties in this section vary from driver to driver. You can check with `SoapySDRUtil --probe` to see what properties might be applicable here. The predefined HFDLObserver receivers have reasonable defaults for many of them.
- `soapysdr` § `driver` is common so that `dumphfdl` knows which SoapySDR driver/library to load for this radio.
- `soapysdr` § `gain` - for the `airspyhf` SoapySDR driver, the `gain` argument is accepted. If `None` (the default), AGC is enabled. Otherwise, it will be a value that is supported by the device (different devices will have different ranges).

### `receiver` § `type: DummyReceiver`

A dummy development Receiver type for implementing the `dummy` template described above. Any settings are ignored. This is intended for development work and regular users can ignore it.

### `receiver` § `type: Web888PipeReceiver`

The backing type for the `pipe888` template described above. It uses all the same settings as `Web888ExecReceiver`. It also may have incomplete functionality. It's included here for some attempt at completeness.

### `dumphfdl`

This section defines the various profiles that can be used by receivers to configure the `dumphfdl` component. Similar to receivers, each profile is named. These names can be referenced in `reciever` § `decoder` sections, or other `dumphfdl` profiles (for a simplistic form of inheritance/extension).

```yaml
dumphfdl:
  default:
    quiet: yes
    decoder_path: "dumphfdl"
    shoulder: 0.8
    system_table: "systable.conf"
    system_table_save: "systable_updated.conf"
    station_id: "EX-AMPL-E"
    airframes_enabled: yes
    statsd_server: "my-statsd-server:1234"
    output:
      - output: "acarshub"
      - output: "readsb"
        port: 9999
    packetlog: "/home/ducky/packet-logs/"
```

This is a fairly complete example of a basic `dumphfdl` profile named `default`. As noted above, special receiver types can add further properties to this. The additional configuration is usually handled as override properties in the `receiver` § `decoder` section.

- `quiet` - `yes`/`no` (or similar values, see above). If `yes`, only more important messages from `dumphfdl` will be relayed to `HFDLObserver`'s logs.
- `decoder_path` - if you have a custom build of `dumphfdl` and want to use it for in receivers that reference this profile, you can put the path here. The path is relative to the config file. It is recommended to use an absolute path if the executable is not on the PATH. The default just looks for `dumphfdl` on the system PATH.
- `shoulder` - this is the factor to apply to a receiver's sample rate to determine the actual usable sample rate. Some radios introduce filters that attenuate some signals at the upper and lower ends of the sampling window. This parameter identifies how much of the sample window is considered "passed". This is not needed for Web-888 profiles.
- `system_table` - passed to `dumphfdl` as the `--system-table` parameter.
- `system_table_save` - passed to `dumphfdl` as the `--system-table-save` parameter.
- `station_id` - passed to `dumphfdl` as the `--station-id` parameter. It is also used to identify packets collected by this "agent" within HFDLObserver. It is optional, but highly recommended. There is no default.
- `airframes_enabled` - `yes`/`no` (or similar values, see above). The default is `yes`. If this is `yes` and `station_id` is also defined, a `dumphfdl` output for airframes will automatically be generated. You can disable this if you are using a relay or router to pass packets on to airframes and don't need HFDLObserver to communicate with airframes directly.
- `output` - a list of **output** profiles. These are described below. They operate in the same way as receivers and dumphfdl, in that you name an output (in this example `"acarshub"`), and can also override properties from the profile.
- `packetlog` - an optional path to a directory or file. If present (by default it is not), this will be used to generate an `--output` to log the packets to that file in JSON format, rotated daily. The usual usage is to specify a directory. HFDLObserver will use the receiver's name to generate the actual file name used within that directory.

### `output`

This section defines output profiles that `dumphfdl` profiles use to configure `decoder`s in `receiver`s. In general, they follow the pattern of the `--output` parameter of `dumphfdl`. Not all of dumphfdl's output types are supported. Only `decoded` outputs are supported (not `raw`).

```yaml
outputs:
  acars_router:
    format: "json"
    protocol: "udp"
    address: "acars_router.local"
    port: 5556
```

This is a typical `output` profile, named `acars_router`. 

- `format` - the `dumphfdl` output format. `json` is default, but `basestation` is also supported. `text` may also work.
- `protocol` - the `dumphfdl` network protocol. `udp` and `tcp` are supported. *Note* neither `file`, nor `zmq` are supported.
- `address` - the network address to connect to for this output. Address or domain name.
- `port` - the network port to connect to for this output.

Several basic output profiles are provided, so you can include them and only override the necessary values (typically `address` and `port`):

- `acars_router` - the definition is shown above
- `acarshub` - simialr to `acars_router` only with a default address of `acarshub.local`
- `readsb` - a `basestation` output over `tcp`, by default to `readsb.local:30009`.

## Abbreviated Settings Examples

The following sections provide some abbreviated samples of various configurations that may be of interest. These are not complete examples. They focus on the important differences from a "vanilla" configuration. Where you see `...` in the example, this is where you would put elements from the vanilla or your own customized settings.

Annotations are included as `#` comments.

### tandem

It is possible to use more than one connected Web-888 device. You'll want to create a second web-888 receiver type, but it's easy base it on the existing one, changing only what is needed (most likely just the address):

```yaml
receivers:
  web888-1:  # This configures receivers using the first device
    receiver: web888
    client:
      address: FIRST-888.local   # You will need to change this.
      port: 8073
  web888-2:  # This configures receivers using the second device
    receiver: web888
    client:
      address: SECOND-888.local  # You will need to change this.
      port: 8073
dumphfdl:
  default:
    station_id: ...  # since this is in the global deafult profile it will apply to all receivers.
    ... # other settings
    output:
      ...  # Any outputs you want configured. Not needed if you're only feeding airframes.io
observer:
  local_receivers:
    - name: web888-1-01   # unique name for each receiver
      receiver: web888-1  # the name of the receiver profile above. First or second device.
    - name: web888-1-02
      receiver: web888-1
    - name: web888-1-03
      receiver: web888-1
    - name: web888-1-04
      receiver: web888-1
    - name: web888-1-05
      receiver: web888-1
    - name: web888-1-06
      receiver: web888-1
    - name: web888-1-07
      receiver: web888-1
    - name: web888-1-08
      receiver: web888-1
    - name: web888-1-09
      receiver: web888-1
    - name: web888-1-10
      receiver: web888-1
    - name: web888-1-11
      receiver: web888-1
    - name: web888-1-12
      receiver: web888-1
    - name: web888-1-13
      receiver: web888-1
    - name: web888-2-01
      receiver: web888-2
    - name: web888-2-02
      receiver: web888-2
    - name: web888-2-03
      receiver: web888-2
    - name: web888-2-04
      receiver: web888-2
    - name: web888-2-05
      receiver: web888-2
    - name: web888-2-06
      receiver: web888-2
    - name: web888-2-07
      receiver: web888-2
    - name: web888-2-08
      receiver: web888-2
    - name: web888-2-09
      receiver: web888-2
    - name: web888-2-10
      receiver: web888-2
    - name: web888-2-11
      receiver: web888-2
    - name: web888-2-12
      receiver: web888-2
    - name: web888-2-13
      receiver: web888-2
  conductor:
    ranked_stations: ...
    ...
cui: ...  # your UI settings, if non-default.
...
```

### alpha web-888 roms

Current (2025 May) Web-888 development/alpha firmware images include the ability to configure wider channels (24kHz and 36kHz). For now, the 36kHz configuration appears to have some issues with IQ streams, but 24kHz channels is supported. To enable the wider channels, you need to go to the Admin interface on the Web-888 device, navigate to the Control tab, and select the value from the "RX Bandwidth" drop down. The device will need to restart after wards. You can then make a very simple modification to the default/vanilla `settings.yaml`:

```yaml
receivers:
  web888-24:  # It's not a good idea to use the same name as a default profile. It *might* work, but it is not supported.
    receiver: web888  # Extends the default web888 profile
    channel_width: 24000  # or 36000 if it becomes usable. Default is 12000
    ... # any other customisation you have.
observer:
  local_receivers:
    # these are the same receivers as `configure` generates, except that the receiver profile is changed to the wider one.
    - name: web888-01   # unique name for each receiver
      receiver: web888-24  # the name of the receiver profile above.
    - name: web888-02
      receiver: web888-24
    - name: web888-03
      receiver: web888-24
    - name: web888-04
      receiver: web888-24
    - name: web888-05
      receiver: web888-24
    - name: web888-06
      receiver: web888-24
    - name: web888-07
      receiver: web888-24
    - name: web888-08
      receiver: web888-24
    - name: web888-09
      receiver: web888-24
    - name: web888-10
      receiver: web888-24
    - name: web888-11
      receiver: web888-24
    - name: web888-12
      receiver: web888-24
    - name: web888-13
      receiver: web888-24
# the rest of the configuration is unchanged.
...
```

### wide888

One of the [airframes.io](https://airframes.io/) contributors has created a [custom Web-888 firmware image](https://github.com/rpatel3001/red-pitaya-notes) based on the red-pitaya-notes image. It exposes wider channels than the normal firmware, and enough of them to cover every single allocated HFDL frequency simultaneously. It is not *quite* a drop in replacement. It has quirks and does not have the same control UI as the "official" images. Using the wider channels provided by this image requires rather more CPU and it is likely not suited for a Pi level device. Your Mileage May Vary.

If this image is of interest, the developer (and myself, too) hang out in the HFDL channel on the [Airframes Discord](https://discord.gg/airframes), and you can get assistance there in getting this image set up correctly -- it's not difficult, but there aren't any instructions or documentation for this particular variant image.

The custom HDFLObserver settings for this configuration is very similar to the *alpha web-888 roms* section above (the compatibility is what makes this image exciting!)...

```yaml
receivers:
  wide888:
    receiver: web888
    channel_width: 307200  # this is the channel bandwidth for this image!
    client:
      address: 10.0.0.1   # It's usually best to use the IPv4 address of the device
      # This image requires a customised version of kiwirecorder
      # you'll have to install this yourself as part of setting up the image.
      # Configure this path based on your installation.
      # The path is relative to the location of the `settings.yaml` file (unless you use an absolute path, of course)
      recorder_path: ../red-pitaya-notes/projects/hfdl_receiver/client/redpitayarecorder.py
...  # dumphfdl etc are not affected.
observer:
  local_receivers:
    - name: wide888-01  # a unique name for each receiver.
      receiver: wide888  # the name of the receiver profile above.
      client:
        port: 9000  # each receiver's client needs its own port, starting at 9000.
    - name: wide888-02
      receiver: wide888
      client:
        port: 9001
    - name: wide888-03
      receiver: wide888
      client:
        port: 9002
    - name: wide888-04
      receiver: wide888
      client:
        port: 9003
    - name: wide888-05
      receiver: wide888
      client:
        port: 9004
    - name: wide888-06
      receiver: wide888
      client:
        port: 9005
    - name: wide888-07
      receiver: wide888
      client:
        port: 9006
    - name: wide888-08
      receiver: wide888
      client:
        port: 9007
    - name: wide888-09
      receiver: wide888
      client:
        port: 9008
    - name: wide888-10
      receiver: wide888
      client:
        port: 9009
    - name: wide888-11
      receiver: wide888
      client:
        port: 9010
    - name: wide888-12
      receiver: wide888
      client:
        port: 9011
    - name: wide888-13
      receiver: wide888
      client:
        port: 9012
...
```

## Running as a remote "node"

TBD
